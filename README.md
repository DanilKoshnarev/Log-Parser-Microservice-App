

```markdown
# Log Parser Service

Цей Python мікросервіс призначений для парсингу лог-файлів Nginx, фільтрації певних записів журналу на основі заданого шаблону та збереження відфільтрованих записів у окремий файл з ротацією логів. Сервіс має модульну структуру і його легко розширити або адаптувати до різних джерел даних, фільтрів чи механізмів збереження.

## Особливості

- Модульний дизайн: Сервіс розділений на окремі модулі для джерел даних, фільтрації та зберігання, що робить його легким для налаштування та розширення.
- Ротація логів: Сервіс автоматично ротуює вихідні файли, коли вони досягають заданого розміру.
- Пошук за шаблоном: Використовує регулярні вирази для фільтрації записів журналу на основі заданого шаблону.

## Структура директорій

```
log_parser/
__init__.py         # Позначає директорію як Python пакет
data_source.py      # Містить функції для роботи з джерелами даних (наприклад, лог-файли)
filter.py           # Містить функції для фільтрації записів журналу
storage.py          # Містить функції для збереження відфільтрованих записів з ротацією файлів main.py             
main.py             # Основний скрипт, який об'єднує всі частини
```

## Установка

1. **Клонуйте репозиторій**:

   ```bash
   git clone https://github.com/yourusername/log-parser-service.git
   cd log-parser-service
   ```

2. **Налаштуйте середовище**:
   - Переконайтеся, що у вас встановлений Python 3.
   - (Опційно) Створіть віртуальне середовище:
   
     ```bash
     python3 -m venv venv
     source venv/bin/activate
     ```

3. **Встановіть залежності**:
   - Проект не має зовнішніх залежностей. Однак, якщо ви плануєте розширювати функціональність за допомогою додаткових бібліотек, ви можете керувати залежностями за допомогою `pip` та файлу `requirements.txt`.

## Використання

1. **Налаштуйте сервіс**:
   - За замовчуванням, сервіс налаштований на парсинг лог-файлів Nginx, розташованих у `/var/log/nginx`, фільтрацію рядків, що містять `favicon.ico`, і збереження результатів у `/var/log/nginx/parsed/`.
   - Ви можете змінити ці налаштування, відредагувавши файл `main.py` або замінивши стандартні лямбда-функції на власні.

2. **Запустіть сервіс**:

   ```bash
   python3 log_parser/main.py
   ```

3. **Змініть шляхи або шаблони**:
   - Відкоригуйте директорію логів, директорію виводу або шаблон фільтрації, відредагувавши відповідні функції у `data_source.py`, `filter.py` або `storage.py`.

## Розширення сервісу

Модульний дизайн дозволяє легко розширювати функціональність:

- **Джерела даних**: Замініть або доповніть `data_source.py`, щоб отримувати дані з різних джерел (наприклад, баз даних, мережевих запитів).
- **Фільтри**: Налаштуйте логіку фільтрації у `filter.py`, щоб застосовувати різні критерії для вибору записів журналу.
- **Зберігання**: Модифікуйте або розширюйте `storage.py`, щоб підтримувати різні сховища даних (наприклад, хмарні сховища, бази даних).

## Внесок

Відчувайте себе вільно для форкування цього репозиторію і надсилання pull request'ів із вашими покращеннями. Для значних змін спершу відкрийте issue, щоб обговорити, що саме ви хочете змінити.

## Ліцензія

Цей проект ліцензований за ліцензією MIT - дивіться файл [LICENSE](LICENSE) для деталей.

## Контакти

З будь-якими питаннями або пропозиціями, будь ласка, звертайтеся на [4youdanchiknew@gmail.com](mailto:your.email@example.com).
```

### Основні моменти:

1. **Опис**: Короткий опис того, що робить ваш сервіс.
2. **Особливості**: Основні можливості та переваги.
3. **Установка**: Інструкції з установки та налаштування середовища.
4. **Використання**: Опис того, як використовувати мікросервіс, включаючи параметри налаштування.
5. **Розширення**: Коротке пояснення, як можна розширити функціональність.
6. **Внесок**: Інформація про те, як можна внести зміни та покращення в проект.
7. **Ліцензія**: Інформація про ліцензію.
8. **Контакти**: Контактна інформація для зворотного зв’язку.

Тепер ви можете додати цей `README.md` файл до кореня вашого проекту і завантажити його на GitHub.
